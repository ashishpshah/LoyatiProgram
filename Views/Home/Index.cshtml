@{
	ViewBag.Title = "Home Page";
	Layout = "~/Views/Shared/_Layout.cshtml";

	var listPlant = Common.GetUserPlantAccesses();
}

<div class="content-header">
	<h1 class="m-0">Dashboard</h1>
</div>


<section class="content">
	<div class="container-fluid">

		@if (Common.IsDealer())
		{
			<div class="row">
				<div class="col-md-6 ">
					<p class="text-center">
						<strong>Summary</strong>
					</p>
										
					<div class="row">
						<div class="col-md-6">
							<div class="info-box mb-3 bg-warning">
							  <span class="info-box-icon"><i class="fas fa-tag"></i></span>

							  <div class="info-box-content">
								<span class="info-box-text">Inventory</span>
								<span class="info-box-number">5,200</span>
							  </div>
							</div>
							<div class="info-box mb-3 bg-success">
							  <span class="info-box-icon"><i class="far fa-heart"></i></span>

							  <div class="info-box-content">
								<span class="info-box-text">Mentions</span>
								<span class="info-box-number">92,050</span>
							  </div>
							</div>
							</div>
						<div class="col-md-6">
							<div class="info-box mb-3 bg-danger">
							  <span class="info-box-icon"><i class="fas fa-cloud-download-alt"></i></span>

							  <div class="info-box-content">
								<span class="info-box-text">Downloads</span>
								<span class="info-box-number">114,381</span>
							  </div>
							</div>
							<div class="info-box mb-3 bg-info">
							  <span class="info-box-icon"><i class="far fa-comment"></i></span>

							  <div class="info-box-content">
								<span class="info-box-text">Direct Messages</span>
								<span class="info-box-number">163,921</span>
							  </div>
							</div>

						</div>					
					</div>
				</div>
				<div class="col-md-6">
					<p class="text-center">
						<strong>Goal Completion</strong>
					</p>

					<div class="progress-group">
						Add Products to Cart
						<span class="float-right"><b>160</b>/200</span>
						<div class="progress progress-sm">
							<div class="progress-bar bg-primary" style="width: 80%"></div>
						</div>
					</div>

					<div class="progress-group">
						Complete Purchase
						<span class="float-right"><b>310</b>/400</span>
						<div class="progress progress-sm">
							<div class="progress-bar bg-danger" style="width: 75%"></div>
						</div>
					</div>

					<div class="progress-group">
						<span class="progress-text">Visit Premium Page</span>
						<span class="float-right"><b>480</b>/800</span>
						<div class="progress progress-sm">
							<div class="progress-bar bg-success" style="width: 60%"></div>
						</div>
					</div>

					<div class="progress-group">
						Send Inquiries
						<span class="float-right"><b>250</b>/500</span>
						<div class="progress progress-sm">
							<div class="progress-bar bg-warning" style="width: 50%"></div>
						</div>
					</div>
				</div>
			</div>
		}
		else
		{
			<div class="row no-gutters pt-5">
				<div class="col-12 w-100">
					<div class="panel-divider">
						<span style="background-color: #f4f6f9;">Plant Access</span>
						<div class="row no-gutters">
							<div class="col-12 p-0 m-0 shadow-none mt-3">
								<div class="form-group clearfix">
									@if (listPlant != null)
									{
										foreach (var item in listPlant)
										{
											if (Common.Get_Session_Int(SessionKey.KEY_USER_PLANT_ID) == item.Id)
											{
												<div class="icheck-primary d-inline mr-5">
													<input type="radio" id="radioPrimary_@item.Id" name="PlantID" data-plantid="@item.Id" checked>
													<label for="radioPrimary_@item.Id"> @item.PlantName</label>
												</div>
											}
											else
											{
												<div class="icheck-primary d-inline mr-5">
													<input type="radio" id="radioPrimary_@item.Id" name="PlantID" data-plantid="@item.Id">
													<label for="radioPrimary_@item.Id"> @item.PlantName</label>
												</div>
											}
										}
									}

								</div>
							</div>
						</div>

					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-3 col-6">
					<!-- small box -->
					<div class="small-box bg-info">
						<div class="inner">
							<h3>150</h3>

							<p>New Orders</p>
						</div>
						<div class="icon">
							<i class="ion ion-bag"></i>
						</div>
						<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
				<div class="col-lg-3 col-6">
					<!-- small box -->
					<div class="small-box bg-success">
						<div class="inner">
							<h3>50000</h3>

							<p>Dispatch Quantity</p>
						</div>
						<div class="icon">
							<i class="ion ion-stats-bars"></i>
						</div>
						<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
				<div class="col-lg-3 col-6">
					<!-- small box -->
					<div class="small-box bg-warning">
						<div class="inner">
							<h3>10000</h3>

							<p>Production Quantity</p>
						</div>
						<div class="icon">
							<i class="ion ion-person-add"></i>
						</div>
						<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
			</div>

			<div class="row">
				<div class="col-12">
					<div class="card card-body table-responsive p-0">
						<table class="table table-striped table-valign-middle">
							<thead>
								<tr>
									<th>Total NEP in Market </th>
									<th>Next Month</th>
									<th>After 2 Months</th>
									<th>After 3 Months</th>
									<th width="5%">More</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Stock Value</td>
									<td>50000</td>
									<td>25000</td>
									<td>75000</td>
									<td><a href="#" class="text-muted showProduct"><i class="fas fa-eye"></i></a></td>
								</tr>
								<tr>
									<td>Stock Qty</td>
									<td>50</td>
									<td>20</td>
									<td>80</td>
									<td><a href="#" class="text-muted showProduct"><i class="fas fa-eye"></i></a></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		}
	</div>
</section>

@if (Common.IsDealer()){}
else{
@section scripts {
	<script type="text/javascript">

		$(document).on('change', 'input[type="radio"]', function (event) {
			ajaxPost('@Url.Action("Change_Plant", "Home", new { area = "" })?id=' + $(this).attr('data-plantid'), window.location.href)
		});

		$(document).ready(function () {
			$(".showProduct").on("click", function () {
				Swal.fire({
					title: 'Product Details',
					html: `
							<table>
							  <thead>
								<tr>
								  <th>Product Name</th>
								  <th>Pkg Type</th>
								  <th>SKU</th>
								</tr>
							  </thead>
							  <tbody>
								<tr>
								  <td>Red Chilli Seed</td>
								  <td>Jar</td>
								  <td>100 g</td>
								</tr>
								<tr>
								  <td>Potato Seed</td>
								  <td>Pouch</td>
								  <td>20 g</td>
								</tr>
							  </tbody>
							</table>
						  `,
					width: 600,
					icon: 'info',
					confirmButtonText: 'OK'
				});
			});
		});
	</script>


}}